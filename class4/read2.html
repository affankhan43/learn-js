<!DOCTYPE html>
<html>
<head>
	<title>READ JSON</title>
	
</head>
<body>
	<div id="content" style="text-align: center;">
		
	</div>
	<script type="text/javascript">
		var jsonhtml = {
			"h2":"Class",
			"p":"Blockchain",
			"div":[
				{"h2":"ProductsCount","p":"13"},
				{"h2":"Sold","p":"3"}
			]
		};
		var htmm = {
			"table":[
				{"thead":
					{"tr":[
						{"th":"name"},
						{"th":"class"}
					]
				}
			},
			{"tbody":
			{"tr":[
				{"td":{"div":[{"p":"ab"},{"p":"ac"}]}},
				{"td":{"div":[{"p":"bb"},{"p":"bc"}]}}
			]}
		}
	]
};
var covid = {
	'total_cases':740600,
	'total_deaths':90000,
	'total_recovered':600000,
	'countries':[
		{'USA':{'total_cases':540600,'total_deaths':50000,'total_recovered':100000}},
		{'India':{'total_cases':540600,'total_deaths':50000,'total_recovered':100000}},
		{'Brazil':{'total_cases':540600,'total_deaths':50000,'total_recovered':100000}},
	]
};
function generator_new(arr){
	function itr(obj){
		Object.keys(obj).forEach(function(key1){
			if(typeof obj[key1] == 'object'){
				if(typeof obj[key1].length != 'undefined'){
					console.log(key1)
					obj[key1].forEach(function(key2){
						
						itr(key2);
					})
				}else{
					//console.log(obj[key1])
					console.log(key1)
					itr(obj[key1]);
				}
			}else{
				console.log(key1+ ' : '+obj[key1])
			}
		})
	}
	itr(arr);
}
generator_new(covid)
		function generator(arr){
			var mainContain=document.createElement('div');
			function iterateThrough(obj,elt){
				Object.keys(obj).forEach(function(curKey){
					if(typeof obj[curKey]==='object'){
						if(typeof obj[curKey].length != 'undefined'){
							var first = document.createElement(curKey)
							obj[curKey].forEach(function(curKey2){
								elt.appendChild(first)
								iterateThrough(curKey2,first);
							})
						}else{
							console.log(obj[curKey])
							console.log(curKey)
							var li=document.createElement(curKey);
							elt.appendChild(li);
							iterateThrough(obj[curKey],li);
						}
					}
					else{
						var li=document.createElement(curKey);
						li.innerText = obj[curKey]
						elt.appendChild(li);
					}
				});
			}
			iterateThrough(arr,mainContain);
			return mainContain;
		}
		//document.getElementById('content').appendChild(generator(htmm));
		
	</script>
</body>
</html>